# The apphosting.yaml defines the configuration for your App Hosting backend.
# You can learn more about this file here: https://firebase.google.com/docs/hosting/app-hosting/apphosting-yaml

version: 1

services:
  # The frontend service will be automatically configured by App Hosting.
  - id: frontend
    source: .
    run: npm run start

  # The backend service, our FastAPI application.
  - id: backend
    source: backend_code
    runtime: python
    run: gunicorn -w 4 -k uvicorn.workers.UvicornWorker main:app
    env:
      - variable: FIREBASE_PROJECT_ID
        value: "ai-startup-evaluator-472309"
        availability: [BUILD, RUNTIME]

build:
  builder: "22"
